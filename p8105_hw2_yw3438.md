p8105\_hw2\_yw3438
================
Yuning Wang
9/24/2019

``` r
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(dplyr)
library(readxl)
```

## Problem 1

``` r
# Import the data in Mr. Trash Wheel sheet
mr_trash_wheel = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
                            sheet = "Mr. Trash Wheel",
                            range = "A2:N338" ) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = as.integer(sports_balls))

# Import the data in precipitation data for 2018
pcptt_2018 = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
                        sheet = "2018 Precipitation",
                        skip = 1) %>%
  janitor::clean_names() %>%
  mutate(year = "2018")

# Import the data in precipitation data for 2017
pcptt_2017 = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
                        sheet = "2017 Precipitation",
                        skip = 1) %>%
  janitor::clean_names() %>%
  mutate(year = "2017")

# Combine precipitation datasets
pcptt_1718 = full_join(pcptt_2017, pcptt_2018) %>%
  mutate(month = month.name[month])
```

After reading and cleaning the data in Mr. Trash Wheel sheet, there are
285 obs. of 14 variables. The variables contains in data
“mr\_trash\_wheel” include dumpster, month, year, sports\_balls, etc.,
among which all the numbers in sports\_balls have been transformed into
integers.

After reading and cleaning the data in 2018 Precipitation, there are 13
obs. of 3 variables including month, year and total. After read and
clean the data in 2017 Precipitation, there are 13 obs. of 3 variables
including month, year and total.

After combing the datasets of 2018 Precipitation and 2017 Precipitation,
the new datasets include 26 obs. of 3 variables including month, year
and total.

The total precipitation in 2018 is 23.50 and the median number of
sports\_balls in 2017 is 8

## Problem 2

``` r
# Read the data in pol-month
pol_month = read_csv("./data/fivethirtyeight_datasets/pols-month.csv") %>%
  janitor::clean_names() %>%
  separate(mon, into = c("year", "month", "day"), sep = "-") %>%
  mutate(month = month.name[as.numeric(month)]) %>%
  pivot_longer(cols = starts_with("prez"),
               names_to = "president",
               names_prefix = "prez_") %>%
  select(-day)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
# Read the data in snp.csv
snp = read_csv("./data/fivethirtyeight_datasets/snp.csv") %>%
  janitor::clean_names() %>%
  separate(date, into = c("day", "month", "year"), sep = "/") %>%
  mutate(month = month.name[as.numeric(month)]) %>%
  arrange(year, month)
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
# Read and tidy unemployment data
unemployment = read_csv("./data/fivethirtyeight_datasets/unemployment.csv") %>%
  janitor::clean_names() %>%
  pivot_longer(jan:dec,
               names_to = "month") %>%
  mutate(month = month.name[factor(month)]) %>%
  mutate(year = as.character(year))
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )
